# DIDWW Voice OTP Gateway - Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED - Gateway will not start without these
# =============================================================================

# DIDWW SIP Trunk Configuration (no registration required)
# Anycast: any.out.didww.com | Regional: nyc.us.out.didww.com, fra.eu.out.didww.com, etc.
DIDWW_SIP_HOST=any.out.didww.com       # DIDWW outbound SIP server
DIDWW_USERNAME=your_username           # SIP trunk username from DIDWW portal
DIDWW_PASSWORD=your_password           # SIP trunk password from DIDWW portal
DIDWW_CALLER_ID=12125551234            # Outbound caller ID (E.164 without +, use your DIDWW DID)

# Network Configuration
PUBLIC_IP=203.0.113.10                 # Your server's public IP address (critical for NAT)

# API Security
API_SECRET=your-secret-token-here      # Shared secret for webhook authentication

# =============================================================================
# OPTIONAL - Defaults shown
# =============================================================================

# Voice Message Customization
OTP_MESSAGE_TEMPLATE="Your verification code is {code}. Repeating. {code}."
OTP_VOICE_SPEED=medium                 # slow, medium, fast
OTP_DIGIT_PAUSE_MS=500                 # Pause between digits in milliseconds

# Network Ports
SIP_PORT=5060                          # SIP signaling port (UDP)
RTP_PORT_START=10000                   # RTP media port range start
RTP_PORT_END=10020                     # RTP media port range end (supports ~10 concurrent calls)
HTTP_PORT=8080                         # HTTP API port

# ARI (Asterisk REST Interface) - Internal communication
ARI_PASSWORD=internal-ari-secret       # Password for Node.js to Asterisk communication

# Logging
LOG_LEVEL=info                         # debug, info, warn, error

# ASN Database (fraud detection)
ASN_ENABLED=true                       # Enable ASN lookups for fraud detection
ASN_DATA_PATH=/data/asn.mmdb           # Path for downloaded ASN database
ASN_UPDATE_INTERVAL_HOURS=168          # Check for updates weekly (default: 168 = 7 days)
ASN_SHADOW_BAN_UNRESOLVED=true         # Shadow-ban IPs with unresolved ASN after update attempt
